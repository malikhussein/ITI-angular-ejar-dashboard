<div class="p-4 bg-gray-100 min-h-screen">
  <div class="container bg-white p-4 rounded-lg shadow">
    <div class="table-responsive">
      <table class="table table-hover table-sm w-100 text-center">
        <thead class="table-light">
          <tr>
            <th class="p-2">IMAGE</th>
            <th class="p-2">NAME</th>
            <th class="p-2">CATEGORY</th>
            <th class="p-2">BRAND</th>
            <th class="p-2">STATUS</th>
            <th class="p-2">OWNER</th>
            <th class="p-2">CREATED</th>
            <th class="p-2">DAILY</th>
            <th class="p-2">Product ID</th>
            <th class="p-2">ACTION</th>
          </tr>
        </thead>
        <tbody>
           <!-- Shared loader -->
           <ng-container>
            @if (loading) {
              <tr>
                <td colspan="10">
                  <app-loader message="Loading products..."></app-loader>
                </td>
              </tr>
            }
          </ng-container>
          <!-- Shared loader -->
          <!--  No data message -->
          <ng-container>
            @if (!loading && paginatedUsers.length === 0) {
              <tr>
                <td colspan="10" class="text-center py-5 text-muted">
                  <i class="bi bi-box-seam fs-4 me-2 text-secondary"></i>
                  No products found.
                </td>
              </tr>
            }
          </ng-container>
          <!--  No data message -->
          <tr *ngFor="let user of paginatedUsers; trackBy: trackById">
            <td>
              <img
                [src]="user.images[0]"
                alt="Product"
                class="img-thumbnail"
                style="width: 40px; height: 40px"
              />
            </td>
            <td style="white-space: nowrap">{{ user.name }}</td>
            <td style="white-space: nowrap">{{ user.category.name }}</td>
            <td style="white-space: nowrap">{{ user.brand }}</td>
            <td style="white-space: nowrap">{{ user.status }}</td>
            <td
              style="white-space: nowrap; cursor: pointer; color: blue"
              (click)="profile(user.renterId._id)"
              class="clickable"
            >
              {{ user.renterId.userName }}
            </td>

            <td style="white-space: nowrap">
              {{ user.createdAt | date : "dd/MM/yyyy" }}
            </td>
            <td style="white-space: nowrap">{{ user.daily }}</td>
            <td style="white-space: nowrap">{{ user.id }}</td>

            <td style="white-space: nowrap">
              <button (click)="move(user._id)" class="btn btn-primary mx-2">
                Details
              </button>
              <button (click)="remove(user._id)" class="btn btn-danger">
                <i class="fa-solid fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <mat-paginator
      [length]="newusers.length"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 25, 100]"
      aria-label="Select page"
      (page)="onPageChange($event)"
    >
    </mat-paginator>
  </div>
</div>
