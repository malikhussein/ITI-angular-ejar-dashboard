<br /><br />
<h2 class="mx-4 my-4">Dashboard</h2>
<br />

<div class="row mx-2">
  <div class="col-md-4">
    <div class="card">
      <div class="card-header">
        <h3>
          <i style="color: #ffaded" class="fas fa-user-plus"></i>
          <span class="mx-3">Total Users</span>
        </h3>
      </div>
      <div class="card-body d-flex align-items-center justify-content-between">
        <div>
          <h1>{{ totalUsers }} Users</h1>
        </div>
        <div></div>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-header">
        <h3>
          <i style="color: #ffaded" class="fas fa-tasks"></i>
          <span class="mx-3">Total Costs</span>
        </h3>
      </div>
      <div class="card-body d-flex align-items-center justify-content-between">
        <div class="div">
          <h1>{{totalDailyCosts}} Costs</h1>
        </div>
        <div class="div"></div>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-header">
        <h3>
          <i style="color: #ffaded" class="fas fa-boxes"></i>
          <span class="mx-3">Total Products</span>
        </h3>
      </div>
      <div class="card-body d-flex align-items-center justify-content-between">
        <div class="div">
          <h1>{{ totalProducts }} Products</h1>
        </div>
        <div class="div"></div>
      </div>
    </div>
  </div>

  <!-- Total Process Card -->
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-header">
        <h3>Total Process</h3>
      </div>
      <div class="card-body d-flex align-items-center justify-content-between">
        <div class="pendingProcess">
          <h5>Pending Process :</h5>
          <h1>{{ totalPendingProcess }} Process</h1>
        </div>
        <div class="finishedm mx-5">
          <h5>Finished Process :</h5>
          <h1>{{ totalFinishedProcess }} Process</h1>
        </div>
      </div>
    </div>
  </div>

  <!-- Total Categories Card -->
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-header">
        <h3>Total Categories</h3>
      </div>
      <div class="card-body d-flex align-items-center justify-content-between">
        <div>
          <h1>{{ totalCatgories }} Categories</h1>
        </div>
        <div class="chart" style="width: 100%; max-width: 350px; height: 250px">
          <ngx-charts-advanced-pie-chart
            [results]="advancedPieChartData"
            [scheme]="pipeScheme"
            [gradient]="true"
          ></ngx-charts-advanced-pie-chart>
        </div>
      </div>
    </div>
  </div>

  <!-- bottom part -->
  <div class="row mt-4">
    <!-- Left Column -->
    <div class="col-md-6 d-flex flex-column gap-4">
      <!-- Inbox Card -->
      <div class="card inbox-card">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h5>Inbox</h5>
              <small class="text-muted">Group: Support</small>
            </div>
            <a href="#" class="text-primary">View details</a>
          </div>
          <div class="mt-3">
            <div class="d-flex justify-content-between py-2 border-bottom">
              <span>Waiting for order#12345</span>
              <span>4:39</span>
            </div>
            <div class="d-flex justify-content-between py-2">
              <span>Customer support id#22234</span>
              <span>11:07</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Activity Card -->
      <div class="card activity-card">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <h5>Recent Activity</h5>
            <a href="#" class="text-primary">View all</a>
          </div>
          <ul class="list-unstyled mt-3">
            <li *ngFor="let proc of lastFourProcesses" class="activity-item">
              <!-- Icon span -->
              <span 
                class="circle"
                [ngClass]="{
                  'text-success': proc.status === 'finished',
                  'text-danger': proc.status === 'canceled',
                  'text-secondary': proc.status === 'pending',
                  '.text-primary': proc.status === 'inprogress'

                }"
              >
                <i 
                  [ngClass]="{
                    'bi bi-check-circle-fill': proc.status === 'finished',
                    'bi bi-x-circle-fill': proc.status === 'canceled',
                    'bi bi-circle': proc.status === 'pending',
                    'bi bi-circle-fill': proc.status === 'in progress'

                  }"
                ></i>
              </span>
      
              <!-- Message -->
              <p class="d-inline ms-2 mb-0">{{ generateMessage(proc) }}</p>
      
              <!-- Badge -->
              <span 
                class="badge ms-2"
                [ngClass]="{
                  'urgent': proc.status === 'canceled',
                  'new': proc.status === 'pending',
                  'success': proc.status === 'finished',
                  'in-progress': proc.status === 'finished'

                }"
              >
                {{ proc.status?.toUpperCase() }}
              </span>
            </li>
          </ul>
        </div>
      </div>
            
    </div>

    <!-- Right Column -->
    <div class="col-md-6">
      <div class="card trend-card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
              <h5>Today's trends</h5>
              <small class="text-muted">30 Sept 2021</small>
            </div>
            <div class="trend-tabs">
              <span class="active">Today</span>
              <span>Yesterday</span>
            </div>
          </div>
          <div
            class="chart-section"
            style="padding: 2rem; width: 100%; height: 350px"
          >
            <ngx-charts-bar-vertical
              [view]="[700, 350]"
              [scheme]="colorScheme"
              [results]="chartData"
              [xAxis]="true"
              [yAxis]="true"
              [legend]="true"
              [showXAxisLabel]="true"
              [showYAxisLabel]="true"
              xAxisLabel="Metric"
              yAxisLabel="Value"
            ></ngx-charts-bar-vertical>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
